# UI 生产环境清理指南 (UI/UX Cleanup for Production)

在真实的生产环境中，用户追求的是“简洁”和“无感”。目前的 Demo 界面包含了很多为了面试和展示而设计的“透明化”功能，上线前需要进行清理。

## 1. 必须移除或隐藏的“Debug”元素

| 位置 | 元素 | 为什么不给用户看？ | 处理建议 |
| :--- | :--- | :--- | :--- |
| `app/agent/chat.tsx` | **PILOT 切换按钮** | 普通用户不需要知道底层是用 LangGraph 还是标准引擎。 | 直接移除，强制使用最稳定的版本。 |
| `app/agent/chat.tsx` | **Agent Thinking Steps** | 展示“行为: tool_name”会干扰用户，显得不专业。 | 隐藏。仅保留加载动画或更人性化的“正在查询...”提醒。 |
| `app/agent/chat.tsx` | **WebView 调试图标** | 那个 Bot 图标手动开关 WebView。 | 改为全自动触发：Agent 需要登录时自动弹出 WebView，完成后自动收起。 |
| `Header` | **AI 实验室 / (LG) 标签** | 增加用户焦虑感，感觉像在用未完成的产品。 | 移除，或改为“智能助手”。 |

## 2. 核心逻辑的转换 (Demo -> Real)

### A. 权限控制
*   **Demo 状态**：在 `services/auth.ts` 中存在 `isDemoMode`，会给用户一个假 ID。
*   **生产状态**：必须移除 `isDemoMode`。如果用户未登录，强制跳转到 `(auth)/login` 页面。

### B. 日志与报错
*   **Demo 状态**：直接在界面显示 `error.message`。
*   **生产状态**：报错应该更友好。比如 API 挂了，不要显示“404 Not Found”，而应显示“网络开小差了，请稍后再试”。

## 3. 改进建议：从“展示”变为“服务”

| 现有功能 (Demo) | 理想状态 (Production) |
| :--- | :--- |
| 点击“确认预约”按钮。 | 整个过程全自动。Agent 只是在最后一步展示截图或结果，然后问：“已经帮你搞定了，需要我把确认码发给你吗？” |
| 手动点开 WebView 登录。 | 只有在 Cookies 过期时才弹框提示：“为了安全，请重新验证身份”，验证完后无缝回到聊天窗口。 |

## 4. 推荐改动清单 (代码层面)

1.  **[ ] `services/config.ts`**: 新增一个 `const IS_PRODUCTION = true` 开关。
2.  **[ ] `app/agent/chat.tsx`**: 在样式和渲染逻辑中加入 `{ !IS_PRODUCTION && <DebugPanel /> }`。
3.  **[ ] `app/_layout.tsx`**: 加入全局错误边界 (Error Boundary)，捕获所有崩溃并展示友好界面，而不是直接白屏。

---

**一句话总结**：面试官想看的是**“怎么实现的”**（所以要多展示步骤）；学生想看的是**“帮我实现”**（所以要隐藏所有复杂步骤）。
